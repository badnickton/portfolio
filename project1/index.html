<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Heart Attack Predictive Modeling</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    /* Base Styling */
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      background: url('background.jpg') no-repeat center center fixed;
      background-size: cover;
      color: #e0e0e0;
      text-align: center;
    }

    header {
      background-color: rgba(0, 0, 0, 0.5);
      padding: 3em 0;
      color: #fff;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    }

    header h1 {
      font-size: 3em;
      margin: 0;
      letter-spacing: 2px;
    }

    header p {
      font-size: 1.5em;
      margin-top: 0.5em;
      font-weight: 300;
    }

    h2 {
      font-size: 2em;
      margin-top: 40px;
      font-weight: 600;
      text-transform: uppercase;
    }

    h3 {
      font-size: 1.5em;
      margin-top: 20px;
      font-weight: bold;
      text-align: left;
      padding-left: 15px;
    }

    a {
      color: #0077cc;
      text-decoration: none;
      font-weight: bold;
      transition: color 0.3s ease;
    }

    a:hover {
      color: #ff6f61;
      text-decoration: underline;
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    ul li {
      margin: 15px 0;
      text-align: left;
      padding-left: 15px;
    }

    footer {
      background-color: rgba(0, 0, 0, 0.7);
      color: #fff;
      padding: 1.5em 0;
      font-size: 1.1em;
      box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.2);
    }

    footer a {
      color: #fff;
      font-weight: bold;
      transition: color 0.3s ease;
    }

    footer a:hover {
      color: #0077cc;
    }

    .container {
      width: 100%;
      max-width: 1000px;
      margin: 0 auto;
    }

    .text-content {
      width: 65%;
      margin: 0 auto;
      text-align: left;
    }

    .project-details {
      display: flex; /* Align image and text horizontally */
      align-items: flex-start; /* Align items at the top */
      gap: 20px; /* Reduced space between image and text */
      padding-left: 15px; /* Align with text */
    }

    .project-image {
      max-width: 380px; /* Small image size */
      height: auto;
      margin: 20px 0;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    /* Back to Homepage Button */
    /* Styled Button */
    .back-home-btn button {
      background-color: #1c1c1c; /* Dark background */
      color: #e0e0e0; /* Light text */
      border: 2px solid #e0e0e0; /* Light border */
      border-radius: 8px; /* Rounded edges */
      padding: 10px 20px; /* Padding for size */
      font-family: 'Poppins', sans-serif; /* Font */
      font-size: 1em; /* Readable size */
      cursor: pointer; /* Pointer cursor */
      transition: background-color 0.3s ease, color 0.3s ease;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* Subtle shadow */
    }

    .back-home-btn button:hover {
      background-color: #e0e0e0; /* Light background */
      color: #1c1c1c; /* Dark text */
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container">
      <h1>Heart Attack Predictive Modeling</h1>
      <p>Data Analysis and Predictive Modeling Using R</p>
    </div>
  </header>

  <!-- About the Project -->
  <h2>About This Project</h2>
  <div class="text-content">
    <p>This project involves using predictive modeling to analyze medical data and predict the likelihood of a heart attack based on various patient features. I used logistic regression, a popular technique in machine learning, and the <code>caret</code> package in R to build the model.</p>
  </div>

  <!-- Project Details Section -->
  <h2>Project Details</h2>
  <img src="heart-attack copy.jpg" alt="Heart Attack Image" class="project-image">
  <div class="text-content">
    <h3>Dataset Description</h3>
    <p>The dataset was downloaded from Kaggle, and includes several medical attributes such as:</p>
    <ul>
      <li><strong>age</strong>: Age of the patient</li>
      <li><strong>sex</strong>: Sex of the patient (1 = male, 0 = female)</li>
      <li><strong>cp</strong>: Chest pain type (1 to 4)</li>
      <li><strong>trtbps</strong>: Resting blood pressure (in mm Hg)</li>
      <li><strong>chol</strong>: Cholesterol in mg/dl</li>
      <li><strong>fbs</strong>: Fasting blood sugar > 120 mg/dl (1 = true, 0 = false)</li>
      <li><strong>restecg</strong>: Resting electrocardiographic results</li>
      <li><strong>exng</strong>: Exercise-induced angina (1 = yes, 0 = no)</li>
      <li><strong>output</strong>: 0 = no heart attack, 1 = heart attack (target variable)</li>
    </ul>

    <h3>Data Preprocessing</h3>
    <p>After loading the data, I checked for missing values, variable types, and outliers. I also converted categorical variables like <code>sex</code>, <code>cp</code>, <code>restecg</code>, <code>exng</code>, <code>caa</code>, and <code>output</code> to factors in R.</p>
    
    <pre><code>
    # Load data and check structure
    heart_data <- read.csv("heart.csv")
    str(heart_data)  # Check the structure of the dataset
    summary(heart_data)  # Summary statistics

    # Convert categorical variables to factors
    heart_data$sex <- factor(heart_data$sex)
    heart_data$cp <- factor(heart_data$cp)
    heart_data$restecg <- factor(heart_data$restecg)
    heart_data$exng <- factor(heart_data$exng)
    heart_data$caa <- factor(heart_data$caa)
    heart_data$output <- factor(heart_data$output)
    </code></pre>

    <h3>Inferential Modeling</h3>
    <p>The logistic regression model was built using the <code>glm()</code> function in R. The model predicted the probability of a heart attack (output = 1) based on variables such as age, sex, cholesterol, etc.</p>

    <pre><code>
    # Build the logistic regression model
    model <- glm(output ~ age + sex + cp + trtbps + chol + fbs + restecg + thalachh + exng + caa, 
                 data = heart_data, family = "binomial")
    summary(model)  # Model summary
    </code></pre>

    <h3>Model Summary</h3>
    <p>The logistic regression model coefficients are as follows:</p>
    <pre><code>
    Call:
    glm(formula = output ~ ., family = "binomial", data = heart_data)

    Coefficients:
                  Estimate Std. Error z value Pr(>|z|)
    (Intercept)   3.247491   2.577337   1.260 0.207663
    age          -0.003799   0.023305  -0.163 0.870523
    sex1         -1.766108   0.477391  -3.700 0.000216 ***

    ... (rest of the coefficients) ...
    </code></pre>

    <h3>Histogram of Predicted Probabilities</h3>
    <img src="Screenshot 2024-12-24 210054.jpg" alt="Heart Attack Image" class="project-image">
    <p>Above shows a histogram of the people and their predicted heart attack outcome between 0 (0%) to 1 (100%).</p>

    <h3>Model Evaluation</h3>
    <p>To evaluate the model, I used a 10-fold cross-validation approach and obtained the following results:</p>
    <ul>
      <li><strong>Accuracy:</strong> 85.48%</li>
      <li><strong>Sensitivity (Recall):</strong> 78.26%</li>
      <li><strong>Specificity:</strong> 91.52%</li>
      <li><strong>Precision:</strong> 88.52%</li>
      <li><strong>Negative Predictive Value:</strong> 83.43%</li>
    </ul>

    <h3>Confusion Matrix</h3>
    <p>The confusion matrix for the logistic regression model is as follows:</p>
    <table border="1">
      <tr>
        <th>Predicted/Actual</th>
        <th>0</th>
        <th>1</th>
      </tr>
      <tr>
        <td>0</td>
        <td>108</td>
        <td>14</td>
      </tr>
      <tr>
        <td>1</td>
        <td>30</td>
        <td>151</td>
      </tr>
    </table>
    <p>Based on the confusion matrix, the model has high specificity and moderate sensitivity, making it good at detecting non-heart attack cases but not as good at detecting actual heart attack cases.</p>

    <h3>Naive Model Comparison</h3>
    <p>The naive model, which simply predicts the most common outcome (no heart attack), achieved an accuracy of 54.45%. This is significantly lower than the logistic regression model (around 85%), demonstrating the power of logistic regression in identifying risk factors for heart attacks.</p>
    <img src="Screenshot 2024-12-24 211342.jpg" alt="Heart Attack Image" class="project-image">
  </div>

  <div class="container">
    <a href="../index.html" class="back-home-btn">
      <button>Back to Homepage</button>
    </a>
  </div>

  <!-- Footer -->
  <footer>
    <div class="container">
      <p>&copy; 2024 Heart Attack Predictive Modeling. All Rights Reserved.</p>
    </div>
  </footer>
</body>
</html>
